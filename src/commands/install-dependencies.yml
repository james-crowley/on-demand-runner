description: >
  Install Dependencies needed for Ansible Playbook
steps:
  - run:
      name: Install boto3 & botocore
      command: |
        export PIP=$(which pip pip3 | head -1)
        if [[ -n $PIP ]]; then
            $PIP install boto3 botocore --upgrade
        else
          echo "Unable to install boto3 and botocore! Please install Pip First."
          exit 1
        fi
  - run:
      name: Install amazon.aws
      command: ansible-galaxy collection install amazon.aws
  - run:
      name: Install community.general
      command: ansible-galaxy collection install community.general