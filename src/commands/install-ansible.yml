description: |
  Install Ansible via Pip
parameters:
  version:
    default: 2.9.*
    description: Ansible Version To Be Installed
    type: string
steps:
  - run:
      name: Installing Ansible <<parameters.version>>
      command: |
        export PIP=$(which pip pip3 | head -1)
        if [[ -n $PIP ]]; then
          if command -v ansible &> /dev/null
          then
            echo "Ansible is already installed thus skipping install."
          else
            $PIP install 'ansible==<<parameters.version>>'
          fi
        else
          echo "Unable to install Ansible! Please install Pip First."
          exit 1
        fi